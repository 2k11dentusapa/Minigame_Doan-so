<script>
  const r = document.getElementById('r');
  const t = document.getElementById('t');
  const countEl = document.getElementById('count');
  const input = document.getElementById('u');

  let k = 0;
  let x = Math.floor(65537 * Math.random());
  let gameOver = false;

  console.log("Sá»‘ bÃ­ máº­t:", x);

  function updateCount() {
    countEl.textContent = k;
  }

  r.addEventListener("click", () => {

    // Náº¿u game Ä‘Ã£ káº¿t thÃºc â†’ reload
    if (gameOver) {
      window.location.reload();
      return;
    }

    const u = Number(input.value);

    if (isNaN(u) || u < 0 || u > 65536) {
      t.textContent = "Vui lÃ²ng nháº­p sá»‘ tá»« 0 Ä‘áº¿n 65536 nhÃ©!";
      t.className = "warning";
      return;
    }

    k++;
    updateCount();

    if (u > x) {
      t.textContent = "Sá»‘ cá»§a báº¡n lá»›n hÆ¡n sá»‘ cá»§a mÃ¬nh";
      t.className = "error";
    }
    else if (u < x) {
      t.textContent = "Sá»‘ cá»§a báº¡n nhá» hÆ¡n sá»‘ cá»§a mÃ¬nh";
      t.className = "info";
    }
    else {
      t.textContent = `Tuyá»‡t vá»i! Báº¡n Ä‘oÃ¡n Ä‘Ãºng ${x} sau ${k} láº§n! ðŸŽ‰`;
      t.className = "success";
      r.textContent = "ChÆ¡i láº¡i";
      gameOver = true;
      return;
    }

    if (k >= 16) {
      t.textContent = `Háº¿t lÆ°á»£t rá»“i! Sá»‘ Ä‘Ãºng lÃ : ${x} ðŸ˜”`;
      t.className = "error";
      r.textContent = "ChÆ¡i láº¡i";
      gameOver = true;
    }
  });
</script>
